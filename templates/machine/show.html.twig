{% extends 'base.html.twig' %}

{% block title %}Détails de la machine{% endblock %}

{% block body %}
    <section>
        <div class="container py-5">
            <h1 class="text-center">Détails de la machine</h1>
            <div class="row">
                <div class="card border-dark mb-3">
                    {% if machine.imgFilename %}
                        <img src="{{ asset('uploads/' ~ machine.imgFilename) }}" alt="Machine Image">
                    {% else %}
                        Aucune image disponible
                    {% endif %}
                    <h5 class="my-3">{{ machine.reference }}</h5>
                    <p class="text-muted mb-1">Nom: {{ machine.nom }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Année: {{ machine.reference }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Année: {{ machine.annee }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Modèle: {{ machine.modele }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Course X: {{ machine.courseX }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Course Y: {{ machine.courseY }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Course Z: {{ machine.courseZ }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Type: {{ machine.type }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Marque: {{ machine.marque }}</p>
                    <hr/>
                </div>
                <div class="card border-dark mb-3">
                    <p class="text-muted mb-1">Vitesse Rotation: {{ machine.vitesseRotation }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Type Attachement: {{ machine.typeAttachement }}</p>
                    <hr/>
                    <p class="text-muted mb-1">Description: {{ machine.description }}</p>
                    <hr/>
                </div>
                <div class="text-center">
                    {% if is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('machine_edit', {'id': machine.id}) }}" class="btn btn-primary">Modifier</a>
                        <a href="{{ path('machine_delete', {'id': machine.id}) }}" class="btn btn-danger" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette machine ?')">Supprimer</a>
                    {% endif %}
                    <a href="{{ path('machine_index') }}" class="btn btn-secondary">Retour à la liste</a>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
